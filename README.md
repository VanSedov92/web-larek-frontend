# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура

Проект будет построен на архитектурном паттерне MVP (Model-View-Presenter) с разделением логики на:

- Model - управление состоянием данных

- View - отображение данных на странице

- Presenter - связующее звено между Model и View

Коммуникация между компонентами будет реализована через событийный брокер (EventEmitter).

## Описание базовых классов

- EventEmitter

Класс EventEmitter обеспечивает централизованную работу с событиями.

Установка слушателей событий;

Удаление слушателей;

Вызов обработчиков события;

Используется как брокер событий во всём приложении.

- Api

Класс Api реализует работу с REST API.
Функции:

get<T>(uri: string): Promise<T> — отправка GET-запросов;

post<T>(uri: string, data: object, method: ApiPostMethods) — отправка POST/PUT/DELETE-запросов;

Обработка ошибок и сериализация JSON-ответов.

- View

Базовый абстрактный класс для всех визуальных компонентов.

Управление DOM-элементами;

Реализация шаблонного метода render;

Подписка на события;

Используется в CatalogView, BasketView, OrderView и др.

## Описание компонентов

- CatalogModel

Модель, хранящая список товаров, загруженных с сервера.

Получает данные из API;

Хранит состояние каталога;

Позволяет получить товары по ID.

- BasketModel

Модель, содержащая содержимое корзины.

Хранит товары, добавленные пользователем;

Подсчитывает общую стоимость;

Управляет добавлением/удалением товаров.

- CatalogView

Компонент, отображающий карточки товаров на странице.

Генерирует DOM-элементы для каждого товара;

Отслеживает клики на кнопках "Добавить в корзину";

Поднимает события типа 'product:add'.

- BasketView

Компонент, отвечающий за отображение корзины.

Показывает список товаров и их количество;

Обновляет интерфейс при добавлении/удалении товара;

- OrderView

Отвечает за форму оформления заказа.

Показывает поля для ввода данных;

Обрабатывает отправку формы;

Валидирует поля и поднимает событие 'order:submit'.

- ModalView

Компонент для отображения всплывающих окон.

Показывает подробности товара или сообщение об ошибке;

Закрывается по клику вне модального окна.

- CatalogPresenter

Посредник между CatalogModel и CatalogView.

Загружает данные из модели;

Передаёт данные во view;

Обрабатывает действия пользователя (добавление в корзину и тд.).

- BasketPresenter

Отвечает за взаимодействие корзины и каталога.

Обрабатывает события от CatalogView и BasketView;

Обновляет модель корзины;

Передаёт данные в представление.

- OrderPresenter

Работает с заказом и формой.

Принимает данные от формы;

Проверяет валидность;

Отправляет заказ через API;

Показывает результат в ModalView.
