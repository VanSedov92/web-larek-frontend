# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура

Проект построен по паттерну MVP (Model-View-Presenter) с разделением ответственности:

Model - управление данными и состоянием (например, список товаров, корзина)

View - отображение интерфейса и обработка пользовательских событий

Presenter - логика взаимодействия между Model и View

Для коммуникации между компонентами используется событийный брокер — EventEmitter.


## Основные классы и компонетнты

EventEmitter

Централизованная система событий. Позволяет пописываться, отписываться и вызывать обработчики.
Используется для обмена сообщениями между частями приложения.
Методы: on(event, handler), off(event, handler), emit(event, data).

Api

Работа с GET, PUT, POST, DELETE.
Обработка ошибок и преобразование JSON ответов.
Методы: get<T>(uri: string): Promise<T>, post<T>(uri: string, data: object, method: ApiPostMethods): Promise<T>

View

Базовый класс для визуальных компонентов. 
Управление DOM-элементами и подписка на пользовательские события.

Models

CatalogModel

Загружает и хранит список товаров c API. Предоставляет методы доступа к товару по ID.

BasketModel

Управляет содержимым корзины

OrderModel

Управляет заказом, хранит форму и валидность данных.

## Views

CatalogView

Отображает карточки товаров, обрабатывает кнопку добавления в корзину и эмитирует событие "product:add".

CardPreviewView

Всплывающее окно с описанием товара.

BasketView

Список товаров в корзине, отображение общей суммы, кнопка оформления заказа. Обновляется при изменениях в модели.

OrderView

Форма заполнения заказа, имя, адрес, почта. Эмитирует событие "order:submit".

ModalView

Общее модальное окно. Используется для отображения подробной информации о товаре и сообщения об успешном заказе.

SuccessView

Отображает сообщение об успешной покупке

## Presenters

CatalogPresenter

Загружает товары из CatalogModel. Отображает товары в CatalogView. Обрабатывает клик по карточке и открывает модальное окно.

BasketPresenter

Реагирует на добавление и удаление товара в корзине. Обновляет BasketView и стоимость. Обрабатывает оформление заказа.

OrderPresenter

Обрабатывает отправку заказа. Принимает данные из OrderView. Отправляет их на сервер через Api. Отображает результат в ModalView.
